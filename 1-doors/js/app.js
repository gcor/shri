!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),n(4),n(6),n(8),n(3),n(5),e.exports=n(7)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),s=(o(i),n(3)),a=o(s),u=n(5),c=o(u),l=n(7),h=o(l),p=n(8),f=o(p),d=function v(e){function t(){for(var e,t=0;t<n.length;t++)if(n[t].isLocked){if(e&&n[t].isLocked){n[t].enable();break}}else e=!0}r(this,v);var n=[new a["default"](0,t),new c["default"](1,t),new h["default"](2,t),new f["default"](3,t)];this.doors=n};new d(document.querySelector(".app"))},function(e,t,n){var o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(s,a){"object"==i(t)&&"undefined"!=typeof e?e.exports=a():(o=a,r="function"==typeof o?o.call(t,n,t,e):o,!(void 0!==r&&(e.exports=r)))}(void 0,function(){"use strict";function e(e,t){t=t||Object.create(null);var n=document.createEvent("Event");n.initEvent(e,t.bubbles||!1,t.cancelable||!1);for(var o,r=2;r<l.length;r++)o=l[r],n[o]=t[o]||h[r];n.buttons=t.buttons||0;var i=0;return i=t.pressure?t.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=t.pointerId||0,n.width=t.width||0,n.height=t.height||0,n.pressure=i,n.tiltX=t.tiltX||0,n.tiltY=t.tiltY||0,n.pointerType=t.pointerType||"",n.hwTimestamp=t.hwTimestamp||0,n.isPrimary=t.isPrimary||!1,n}function t(){this.array=[],this.size=0}function n(e,t,n,o){this.addCallback=e.bind(o),this.removeCallback=t.bind(o),this.changedCallback=n.bind(o),M&&(this.observer=new M(this.mutationWatcher.bind(this)))}function o(e){return"body /shadow-deep/ "+r(e)}function r(e){return'[touch-action="'+e+'"]'}function i(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; touch-action-delay: none; }"}function s(){if(Y){R.forEach(function(e){String(e)===e?(k+=r(e)+i(e)+"\n",j&&(k+=o(e)+i(e)+"\n")):(k+=e.selectors.map(r)+i(e.rule)+"\n",j&&(k+=e.selectors.map(o)+i(e.rule)+"\n"))});var e=document.createElement("style");e.textContent=k,document.head.appendChild(e)}}function a(){if(!window.PointerEvent){if(window.PointerEvent=p,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),w.registerSource("ms",re)}else w.registerSource("mouse",B),void 0!==window.ontouchstart&&w.registerSource("touch",ee);w.register(document)}}function u(e){if(!w.pointermap.has(e))throw new Error("InvalidPointerId")}function c(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Q},releasePointerCapture:{value:Z}})}var l=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],h=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],p=e,f=window.Map&&window.Map.prototype.forEach,d=f?Map:t;t.prototype={set:function(e,t){return void 0===t?this["delete"](e):(this.has(e)||this.size++,void(this.array[e]=t))},has:function(e){return void 0!==this.array[e]},"delete":function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach(function(n,o){e.call(t,n,o,this)},this)}};var v=d,b=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],m=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],y={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},E="undefined"!=typeof SVGElementInstance,g={pointermap:new v,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,o=n.events;o&&(o.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,o=0;n>o&&(t=this.eventSourceList[o]);o++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,o=0;n>o&&(t=this.eventSourceList[o]);o++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(n){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.contains(e.target,e.relatedTarget)||this.leave(e)},enterOver:function(e){this.over(e),this.contains(e.target,e.relatedTarget)||this.enter(e)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(e,t){t.forEach(function(t){this.addEvent(e,t)},this)},unlisten:function(e,t){t.forEach(function(t){this.removeEvent(e,t)},this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var n=new p(e,t);return t.preventDefault&&(n.preventDefault=t.preventDefault),n._target=n._target||t.target,n},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),o=0;o<b.length;o++)t=b[o],n[t]=e[t]||m[o],!E||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in y?void 0:t:e._target},setCapture:function(e,t){this.captureInfo[e]&&this.releaseCapture(e),this.captureInfo[e]=t;var n=document.createEvent("Event");n.initEvent("gotpointercapture",!0,!1),n.pointerId=e,this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),n._target=t,this.asyncDispatchEvent(n)},releaseCapture:function(e){var t=this.captureInfo[e];if(t){var n=document.createEvent("Event");n.initEvent("lostpointercapture",!0,!1),n.pointerId=e,this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),n._target=t,this.asyncDispatchEvent(n)}},dispatchEvent:function(e){var t=this.getTarget(e);return t?t.dispatchEvent(e):void 0},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};g.boundHandler=g.eventHandler.bind(g);var w=g,T={shadow:function(e){return e?e.shadowRoot||e.webkitShadowRoot:void 0},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);return this.canTarget(t)?t:void 0},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var o,r,i=e.elementFromPoint(t,n);for(r=this.targetingShadow(i);r;){if(o=r.elementFromPoint(t,n)){var s=this.targetingShadow(o);return this.searchRoot(s,t,n)||o}r=this.olderShadow(r)}return i}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,o=this.owner(e.target);return o.elementFromPoint(t,n)||(o=document),this.searchRoot(o,t,n)}},_=Array.prototype.forEach.call.bind(Array.prototype.forEach),P=Array.prototype.map.call.bind(Array.prototype.map),S=Array.prototype.slice.call.bind(Array.prototype.slice),O=Array.prototype.filter.call.bind(Array.prototype.filter),M=window.MutationObserver||window.WebKitMutationObserver,L="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};n.prototype={watchSubtree:function(e){this.observer&&T.canTarget(e)&&this.observer.observe(e,C)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){_(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll(L):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(S(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=P(e,this.findElements,this);return t.push(O(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){if("childList"===e.type){var t=this.flattenMutationTree(e.addedNodes);t.forEach(this.addElement,this);var n=this.flattenMutationTree(e.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var I=n,R=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],k="",Y=window.PointerEvent||window.MSPointerEvent,j=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,D=w.pointermap,X=25,x=[1,4,2,8,16],N=!1;try{N=1===new MouseEvent("test",{buttons:1}).buttons}catch(q){}var A,F={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){w.listen(e,this.events)},unregister:function(e){w.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,o=e.clientX,r=e.clientY,i=0,s=n.length;s>i&&(t=n[i]);i++){var a=Math.abs(o-t.x),u=Math.abs(r-t.y);if(X>=a&&X>=u)return!0}},prepareEvent:function(e){var t=w.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},prepareButtonsForMove:function(e,t){var n=D.get(this.POINTER_ID);e.buttons=n?n.buttons:0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=D.get(this.POINTER_ID),n=this.prepareEvent(e);N||(n.buttons=x[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),D.set(this.POINTER_ID,e),t?w.move(n):w.down(n)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);N||this.prepareButtonsForMove(t,e),w.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=D.get(this.POINTER_ID),n=this.prepareEvent(e);if(!N){var o=x[n.button];n.buttons=t?t.buttons&~o:0,e.buttons=n.buttons}D.set(this.POINTER_ID,e),0===n.buttons||n.buttons===x[n.button]?(this.cleanupMouse(),w.up(n)):w.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);N||this.prepareButtonsForMove(t,e),w.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);N||this.prepareButtonsForMove(t,e),w.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);w.cancel(t),this.cleanupMouse()},cleanupMouse:function(){D["delete"](this.POINTER_ID)}},B=F,U=w.captureInfo,K=T.findTarget.bind(T),z=T.allShadows.bind(T),H=w.pointermap,G=2500,V=200,W="touch-action",$=!1,J={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){$?w.listen(e,this.events):A.enableOnSubtree(e)},unregister:function(e){$&&w.unlisten(e,this.events)},elementAdded:function(e){var t=e.getAttribute(W),n=this.touchActionToScrollType(t);n&&(e._scrollType=n,w.listen(e,this.events),z(e).forEach(function(e){e._scrollType=n,w.listen(e,this.events)},this))},elementRemoved:function(e){e._scrollType=void 0,w.unlisten(e,this.events),z(e).forEach(function(e){e._scrollType=void 0,w.unlisten(e,this.events)},this)},elementChanged:function(e,t){var n=e.getAttribute(W),o=this.touchActionToScrollType(n),r=this.touchActionToScrollType(t);o&&r?(e._scrollType=o,z(e).forEach(function(e){e._scrollType=o},this)):r?this.elementRemoved(e):o&&this.elementAdded(e)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(e){var t=e,n=this.scrollTypes;return"none"===t?"none":t===n.XSCROLLER?"X":t===n.YSCROLLER?"Y":n.SCROLLER.exec(t)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===H.size||1===H.size&&H.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var e=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(e,V)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){var t=0;return("touchstart"===e||"touchmove"===e)&&(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=w.cloneEvent(e),o=n.pointerId=e.identifier+2;n.target=U[o]||K(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=e.radiusX||e.webkitRadiusX||0,n.height=e.radiusY||e.webkitRadiusY||0,n.pressure=e.force||e.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE;var r=this;return n.preventDefault=function(){r.scrolling=!1,r.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var o,r=0;r<n.length;r++)o=n[r],t.call(this,this.touchToPointer(o))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if("none"===n)t=!1;else if("XY"===n)t=!0;else{var o=e.changedTouches[0],r=n,i="Y"===n?"X":"Y",s=Math.abs(o["client"+r]-this.firstXY[r]),a=Math.abs(o["client"+i]-this.firstXY[i]);t=s>=a}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,o=0,r=e.length;r>o&&(n=e[o]);o++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(H.size>=t.length){var n=[];H.forEach(function(e,o){if(1!==o&&!this.findTouch(t,o-2)){var r=e.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},overDown:function(e){H.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),w.over(e),w.enter(e),w.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=H.get(t.pointerId);if(n){var o=n.out,r=n.outTarget;w.move(t),o&&r!==t.target&&(o.relatedTarget=t.target,t.relatedTarget=r,o.target=r,t.target?(w.leaveOut(o),w.enterOver(t)):(t.target=r,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(w.up(e),w.out(e),w.leave(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){w.cancel(e),w.out(e),w.leave(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){H["delete"](e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=B.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var o={x:n.clientX,y:n.clientY};t.push(o);var r=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,o);setTimeout(r,G)}}};$||(A=new I(J.elementAdded,J.elementRemoved,J.elementChanged,J));var Q,Z,ee=J,te=w.pointermap,ne=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,oe={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){w.listen(e,this.events)},unregister:function(e){w.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return ne&&(t=w.cloneEvent(e),t.pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){te["delete"](e)},MSPointerDown:function(e){te.set(e.pointerId,e);var t=this.prepareEvent(e);w.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);w.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);w.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);w.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);w.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);w.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=w.makeEvent("lostpointercapture",e);w.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=w.makeEvent("gotpointercapture",e);w.dispatchEvent(t)}},re=oe,ie=window.navigator;ie.msPointerEnabled?(Q=function(e){u(e),this.msSetPointerCapture(e)},Z=function(e){u(e),this.msReleasePointerCapture(e)}):(Q=function(e){u(e),w.setCapture(e,this)},Z=function(e){u(e),w.releaseCapture(e,this)}),s(),a(),c();var se={dispatcher:w,Installer:I,PointerEvent:p,PointerMap:v,targetFinding:T};return se})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=o(a),c=function(e){function t(e,n){function o(e){e.target.classList.add("door-riddle__button_pressed"),a.apply(this)}function s(e){e.target.classList.remove("door-riddle__button_pressed")}function a(){var e=!0;c.forEach(function(t){t.classList.contains("door-riddle__button_pressed")||(e=!1)}),e&&this.unlock()}r(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,e,n)),c=[u.popup.querySelector(".door-riddle__button_0"),u.popup.querySelector(".door-riddle__button_1"),u.popup.querySelector(".door-riddle__button_2")];return c.forEach(function(e){e.addEventListener("pointerdown",o.bind(u)),e.addEventListener("pointerup",s.bind(u)),e.addEventListener("pointercancel",s.bind(u)),e.addEventListener("pointerleave",s.bind(u))}),u}return s(t,e),t}(u["default"]);t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t,o){function r(){this.isDisabled||this.openPopup()}function i(){this.closePopup()}n(this,e),this.number=t,this.onUnclockCallback=o,this.level=document.querySelector(".level_"+t),this.door=document.querySelector(".door_level_"+t),this.popup=document.querySelector(".popup_level_"+t),this.close=this.popup.querySelector(".popup__close"),this.isLocked=!0,this.isDisabled=this.door.classList.contains("door_disabled"),this.door.addEventListener("click",r.bind(this)),this.close.addEventListener("click",i.bind(this))}return o(e,[{key:"openPopup",value:function(){this.popup.classList.remove("popup_hidden")}},{key:"closePopup",value:function(){this.popup.classList.add("popup_hidden")}},{key:"enable",value:function(){this.door.classList.remove("door_disabled"),this.isDisabled=!1}},{key:"unlock",value:function(){this.door.classList.remove("door_locked"),this.isLocked=!1,this.closePopup(),this.onUnclockCallback(),this.showCongratulations()}},{key:"showCongratulations",value:function(){alert("Дверь "+this.number+" открыта!")}}]),e}();t["default"]=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=o(a),c=n(6),l=o(c),h=function(e){function t(e,n){r(this,t);var o=i(this,Object.getPrototypeOf(t).call(this,e,n)),s=o,a=document.querySelector(".wall__lock");new l["default"](document.querySelector(".wall__barrier"),function(e){requestAnimationFrame(function(){e.style.transform=""})}),new l["default"](document.querySelector(".wall__key"),function(e){requestAnimationFrame(function(){var t=e.getBoundingClientRect(),n=a.getBoundingClientRect();t.left>n.left&&t.right<n.right&&t.top>n.top&&t.bottom<n.bottom&&s.unlock(),e.style.transform=""})});return o}return s(t,e),t}(u["default"]);t["default"]=h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(e,t){function o(t){c=u=t.pageX,h=l=t.pageY,e.style.transition="none",e.setPointerCapture(t.pointerId)}function i(t){c=t.pageX,h=t.pageY,requestAnimationFrame(function(){var t=c-u,n=h-l;e.style.transform="translate("+t+"px, "+n+"px)"})}function s(t){c=t.pageX,h=t.pageY,e.releasePointerCapture(t.pointerId),a(e)}n(this,r);var a=t,u=0,c=0,l=0,h=0;e.addEventListener("pointerdown",o),e.addEventListener("pointermove",i),e.addEventListener("pointerup",s),e.addEventListener("pointercancel",s),e.addEventListener("pointerleave",s)};t["default"]=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=o(a),c=function(e){function t(e,n){function o(){a()}function s(){this.classList.contains("drop__weight_fell")&&c.unlock()}function a(){l.classList.add("drop__chain_break"),h.classList.add("drop__weight_fell")}r(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,e,n)),c=u,l=document.querySelector(".drop__chain"),h=document.querySelector(".drop__weight");document.querySelector(".drop__btn");return l.addEventListener("pointermove",o),h.addEventListener("pointerdown",s),u}return s(t,e),t}(u["default"]);t["default"]=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),c=o(u),l=function p(e,t){s(this,p),this.x=e,this.y=t},h=function(e){function t(e,n){function o(e){d[e.pointerId]=new l(e.clientX,e.clientY),p.setPointerCapture(e.pointerId);var t=Object.keys(d);2===t.length&&(b=u(d[t[0]],d[t[1]]),y=c(d[t[0]],d[t[1]]))}function i(e){v[e.pointerId]=new l(e.clientX,e.clientY);var t=Object.keys(v);2===t.length&&requestAnimationFrame(function(){m=u(v[t[0]],v[t[1]]),E=c(v[t[0]],v[t[1]])-y||0;var e=m/b;e<2.5&&e>1&&(p.style.transform="scale("+e+") rotate("+E+"deg)")})}function a(e){var t=f.getBoundingClientRect();t.left<5?(this.unlock(),p.removeEventListener("pointerdown"),p.removeEventListener("pointermove"),p.removeEventListener("pointerup")):(p.setPointerCapture(e.pointerId),resetTransition())}function u(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function c(e,t){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}s(this,t);var h=r(this,Object.getPrototypeOf(t).call(this,e,n)),p=document.querySelector(".circle-lever__circle"),f=document.querySelector(".circle-lever__element"),d={},v={},b=0,m=0,y=0,E=0;return p.addEventListener("pointerdown",o),p.addEventListener("pointermove",i),p.addEventListener("pointerup",a.bind(h)),p.addEventListener("pointercancel",a.bind(h)),p.addEventListener("pointerleave",a.bind(h)),h}return i(t,e),a(t,[{key:"showCongratulations",value:function(){alert("Поздравляю! Игра пройдена!")}}]),t}(c["default"]);t["default"]=h}]);